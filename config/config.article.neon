services:
	PermissionObject:
		setup:
			- addResource('article')
			- addResourceAction('article', 'view')
			- allow('guest', 'article', 'view')
			- addResourceAction('article', 'add')
			- allow('moderator', 'article', 'add')
			- addResourceAction('article', 'edit')
			- allow('moderator', 'article', 'edit')
			- addResourceAction('article', 'delete')
			- allow('moderator', 'article', 'delete')

	# Entities
	- Wame\ArticleModule\Entities\ArticleEntity
	- Wame\ArticleModule\Entities\ArticleLangEntity

	# Repositories
	- Wame\ArticleModule\Repositories\ArticleRepository

	# Components
	Article:
		class: Wame\ArticleModule\Controls\Article
		setup:
			- injectRepository

	ArticleList:
		class: Wame\ArticleModule\Controls\ArticleList
		setup:
			- injectRepository

	ArticleFilterControl:
		class: Wame\ArticleModule\Controls\ArticleFilterControl
		setup:
			- injectRepository

doctrine:
	metadata:
		Wame\ArticleModule\Entities: %appDir%/../vendor/wame/ArticleModule/entities
		Wame\ArticleModule\Repositories: %appDir%/../vendor/wame/ArticleModule/repositories
